(function(t){function e(e){for(var n,a,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)a=r[u],s[a]&&p.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,a=1;a<o.length;a++){var l=o[a];0!==s[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},s={app:0},i=[];function a(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"1eb1733f"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(t){var e=[],o=s[t];if(0!==o)if(o)e.push(o[2]);else{var n=new Promise(function(e,n){o=s[t]=[e,n]});e.push(o[2]=n);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=a(t),i=function(e){l.onerror=l.onload=null,clearTimeout(c);var o=s[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+n+": "+i+")");a.type=n,a.request=i,o[1](a)}s[t]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},2394:function(t,e,o){},"4c00":function(t,e,o){"use strict";var n=o("9752"),s=o.n(n);s.a},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),s=o("bb71");o("da64");n["a"].use(s["a"],{iconfont:"md"});var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("nav-bar"),o("router-view")],1)},a=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-toolbar",[o("v-btn",{attrs:{flat:"",icon:"",color:"pink"},on:{click:t.home}},[o("v-icon",[t._v("home")])],1),o("v-toolbar-title",[t._v("Interconnexus")]),o("v-spacer"),o("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[o("v-btn",{attrs:{flat:""},on:{click:function(e){return t.feed()}}},[t._v("Network")]),o("v-btn",{attrs:{flat:""},on:{click:function(e){return t.users()}}},[t._v("Users")]),o("v-btn",{attrs:{flat:""},on:{click:function(e){return t.organizations()}}},[t._v("Organizations")])],1)],1)},l=[],c={methods:{feed:function(){this.$router.push({name:"feed",params:{id:this.$route.params.id}})},users:function(){this.$router.push({name:"users",params:{id:this.$route.params.id}})},organizations:function(){this.$router.push({name:"organizations",params:{id:this.$route.params.id}})},home:function(){this.$router.push({name:"profile",params:{id:this.$route.params.id}})}}},u=c,d=o("2877"),p=o("6544"),v=o.n(p),_=o("8336"),f=o("132d"),m=o("9910"),h=o("71d9"),b=o("2a7f"),g=Object(d["a"])(u,r,l,!1,null,null,null),y=g.exports;v()(g,{VBtn:_["a"],VIcon:f["a"],VSpacer:m["a"],VToolbar:h["a"],VToolbarItems:b["a"],VToolbarTitle:b["b"]});var T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("router-view")],1)},V=[],C={methods:{test:function(){console.log("this is a test")}},components:{NavBar:y}},w=C,O=(o("4c00"),Object(d["a"])(w,T,V,!1,null,"7d106a4e",null)),S=O.exports,k=o("bc3a"),j=o.n(k),E={name:"App",methods:{test:function(){console.log("this is a test"),j.a.post("/api/query",{query:"SELECT * FROM USER"}).then(function(t){return console.log(t)})}},components:{NavBar:y,Home:S},data:function(){return{}}},L=E,P=o("7496"),x=Object(d["a"])(L,i,a,!1,null,null,null),q=x.exports;v()(x,{VApp:P["a"]});var $=o("8c4f"),D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("Users")]),o("v-list",[t._l(t.users,function(e){return[e.user_id!=t.currentUser?o("v-list-tile",{key:e.user_id,attrs:{avatar:""},on:{click:function(o){t.selectedUser=e,t.openDetails=!0}}},[o("v-list-tile-avatar",[o("v-icon",[t._v("account_circle")])],1),o("v-list-tile-content",[o("v-list-tile-title",{domProps:{textContent:t._s(e.first_name+" "+e.last_name)}}),o("v-list-tile-sub-title",[t._v(t._s(e.user_country))])],1)],1):t._e()]})],2),o("user-details",{attrs:{user:t.selectedUser,dialog:t.openDetails},on:{close:function(e){t.openDetails=!1}}})],1)},U=[],I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline lighten-2",attrs:{"primary-title":""}},[t._v(t._s(t.user.first_name+" "+t.user.last_name))]),o("v-card-text",[o("div",[o("h3",[t._v("Area")]),o("span",[t._v(t._s(t.user.user_city+", "+t.user.user_country))]),o("h3",[t._v("Joined")]),o("span",[t._v(t._s(t.user.join_date))]),Object.keys(t.job).length>0?o("v-subheader",[t._v("Job")]):t._e(),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",{domProps:{innerHTML:t._s(t.job.job_title)}}),o("v-list-tile-sub-title",[t._v(t._s(t.job.job_desc))])],1)],1)],1)]),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{flat:"",disabled:t.isFollowing},on:{click:t.followUser}},[t._v("Follow user")]),o("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.$emit("close"),t.isFollowing=!1}}},[t._v("Close")])],1)],1)],1)},R=[],F={data:function(){return{isFollowing:!1,job:{}}},props:["user","dialog"],methods:{getUsers:function(){},followUser:function(){var t=this;j.a.post("/api/query",{query:"INSERT INTO follows_user (follower_uid, followee_uid) VALUES (".concat(this.$route.params.id,", ").concat(this.user.user_id,")")}).then(function(e){console.log(e),t.isFollowing=!0})},getJob:function(){var t=this;j.a.post("/api/query",{query:"SELECT * FROM job WHERE job_no = ".concat(this.user.job_no)}).then(function(e){console.log(e),t.job=e.data[0]})}},watch:{dialog:function(t){t&&this.getJob()}}},A=F,N=o("b0af"),M=o("99d9"),z=o("12b2"),J=o("169a"),B=o("ce7e"),H=o("ba95"),W=o("5d23"),G=o("e0c7"),Y=Object(d["a"])(A,I,R,!1,null,null,null),Z=Y.exports;v()(Y,{VBtn:_["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:z["a"],VDialog:J["a"],VDivider:B["a"],VListTile:H["a"],VListTileContent:W["a"],VListTileSubTitle:W["b"],VListTileTitle:W["c"],VSpacer:m["a"],VSubheader:G["a"]});var K={data:function(){return{currentUser:this.$route.params.id,users:[],openDetails:!1,selectedUser:{}}},methods:{getUsers:function(){var t=this;j.a.post("/api/query",{query:"SELECT * FROM USER"}).then(function(e){console.log(e),t.users=e.data})},openUserDetails:function(){}},components:{UserDetails:Z},created:function(){this.getUsers()}},Q=K,X=o("8860"),tt=o("c954"),et=Object(d["a"])(Q,D,U,!1,null,null,null),ot=et.exports;v()(et,{VIcon:f["a"],VList:X["a"],VListTile:H["a"],VListTileAvatar:tt["a"],VListTileContent:W["a"],VListTileSubTitle:W["b"],VListTileTitle:W["c"]});var nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("Organizations")]),o("v-list",t._l(t.organizations,function(e){return o("v-list-tile",{key:e.org_id,staticStyle:{"margin-bottom":"1rem"},attrs:{avatar:""},on:{click:function(o){t.selectedOrg=e,t.openDetails=!0}}},[o("v-list-tile-avatar",[o("v-icon",[t._v("account_balance")])],1),o("v-list-tile-content",[o("v-list-tile-title",{domProps:{textContent:t._s(e.org_name)}}),o("v-list-tile-sub-title",[t._v(t._s(e.org_country))]),o("v-list-tile-sub-title",[t._v(t._s(e.org_industry))])],1)],1)}),1),o("org-details",{attrs:{org:t.selectedOrg,dialog:t.openDetails},on:{close:function(e){t.openDetails=!1}}})],1)},st=[],it=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline lighten-2",attrs:{"primary-title":""}},[t._v(t._s(t.org.org_name))]),o("v-card-text",[o("div",[o("h3",[t._v("Founded")]),o("span",[t._v(t._s(t.org.year_founded))]),o("h3",[t._v("Headquartered")]),o("span",[t._v(t._s(t.org.org_country))]),o("h3",[t._v("Industry")]),o("span",[t._v(t._s(t.org.org_industry))]),t.jobs?o("v-list",[o("v-subheader",[t._v("Jobs")]),t._l(t.jobs,function(e){return o("v-list-tile",{key:e.job_no,attrs:{avatar:""}},[o("v-list-tile-content",[o("v-list-tile-title",{domProps:{innerHTML:t._s(e.job_title)}}),o("v-list-tile-sub-title",[t._v(t._s(e.job_desc))])],1)],1)})],2):t._e()],1)]),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{flat:"",disabled:t.isFollowing},on:{click:t.followOrg}},[t._v("Follow org")]),o("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.$emit("close"),t.isFollowing=!1}}},[t._v("Close")])],1)],1)],1)},at=[],rt=o("75fc"),lt={data:function(){return{isFollowing:!1,jobs:[]}},props:["org","dialog"],methods:{getData:function(){},followOrg:function(){var t=this;j.a.post("/api/query",{query:"INSERT INTO follows_org (user_id, org_id) VALUES (".concat(this.$route.params.id,", ").concat(this.org.org_id,")")}).then(function(e){console.log(e),t.isFollowing=!0})},getJobs:function(){var t=this;j.a.post("/api/query",{query:"SELECT * FROM job WHERE org_id = ".concat(this.org.org_id)}).then(function(e){var o;console.log(e),t.jobs=[],(o=t.jobs).push.apply(o,Object(rt["a"])(e.data))})}},watch:{dialog:function(t){t&&this.getJobs()}}},ct=lt,ut=Object(d["a"])(ct,it,at,!1,null,null,null),dt=ut.exports;v()(ut,{VBtn:_["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:z["a"],VDialog:J["a"],VDivider:B["a"],VList:X["a"],VListTile:H["a"],VListTileContent:W["a"],VListTileSubTitle:W["b"],VListTileTitle:W["c"],VSpacer:m["a"],VSubheader:G["a"]});var pt={data:function(){return{organizations:[],selectedOrg:{},openDetails:!1}},methods:{getOrganizations:function(){var t=this;j.a.post("/api/query",{query:"SELECT * FROM ORGANIZATION"}).then(function(e){t.organizations=e.data})}},components:{OrgDetails:dt},created:function(){this.getOrganizations()}},vt=pt,_t=Object(d["a"])(vt,nt,st,!1,null,null,null),ft=_t.exports;v()(_t,{VIcon:f["a"],VList:X["a"],VListTile:H["a"],VListTileAvatar:tt["a"],VListTileContent:W["a"],VListTileSubTitle:W["b"],VListTileTitle:W["c"]});var mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"profile"},[o("div",{staticStyle:{width:"45%"}},[o("h1",[t._v("Profile")]),o("h3",{staticClass:"profile__name"},[t._v(t._s(t.user.first_name+" "+t.user.last_name))]),o("h3",[t._v(t._s(t.user.user_city+", "+t.user.user_state+" "+t.user.user_country))]),o("h3",[t._v(t._s("Joined "+t.user.join_date))]),o("v-list-tile-title",{staticStyle:{"margin-top":"2rem"}},[o("b",[t._v(t._s(t.user.job_title))])]),o("v-list-tile-sub-title",[t._v(t._s(t.user.job_desc))]),o("v-card",{staticStyle:{"margin-top":"5rem"}},[o("v-card-title",{attrs:{"primary-title":""}},[o("div",[o("div",{staticClass:"headline"},[t._v("Share with your netowork")])])]),o("v-card-text",[o("v-textarea",{attrs:{box:"",label:"Content",value:"The Woodman set to work at once, and so sharp was his axe that the tree was soon chopped nearly through."},model:{value:t.postContent,callback:function(e){t.postContent=e},expression:"postContent"}})],1),o("v-card-actions",[o("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(e){return t.post()}}},[t._v("Post")])],1)],1)],1),o("div",{staticClass:"profile__post"},[o("h2",[t._v("Your posts")]),t._l(t.posts,function(e){return[o("v-card",{key:e.post_id,staticStyle:{"margin-top":"2rem"},attrs:{color:"#26c6da",dark:""}},[o("v-card-text",[t._v(t._s(e.Pcontent))]),o("v-card-actions",[o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[t._v(t._s(e.Pcreated_date))])],1)],1)],1)],1)]})],2)])},ht=[],bt=(o("a481"),{data:function(){return{user:{},posts:[],postContent:""}},methods:{post:function(){var t=this;j.a.post("https://us-central1-homework-rpg.cloudfunctions.net/query",{query:'INSERT INTO POST (Pcontent, Pcreated_date, user_id) values ("'.concat(this.postContent,'", "').concat((new Date).toISOString().slice(0,19).replace("T"," "),'", ').concat(this.$route.params.id,")")}).then(function(e){console.log(e),t.postContent=""})}},created:function(){var t=this;console.log(this.$route.params),j.a.post("https://us-central1-homework-rpg.cloudfunctions.net/query",{query:"SELECT * FROM USER JOIN JOB ON JOB.job_no = USER.job_no WHERE USER.user_id = ".concat(this.$route.params.id)}).then(function(e){console.log(e),t.user=e.data[0]}),j.a.post("https://us-central1-homework-rpg.cloudfunctions.net/query",{query:"SELECT * FROM POST WHERE POST.user_id = ".concat(this.$route.params.id)}).then(function(e){var o;console.log(e),(o=t.posts).push.apply(o,Object(rt["a"])(e.data))})}}),gt=bt,yt=(o("6c48"),o("a844")),Tt=Object(d["a"])(gt,mt,ht,!1,null,"492e0468",null),Vt=Tt.exports;v()(Tt,{VBtn:_["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:z["a"],VListTile:H["a"],VListTileContent:W["a"],VListTileSubTitle:W["b"],VListTileTitle:W["c"],VTextarea:yt["a"]});var Ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"feed"},[o("div",{staticClass:"feed__post"},[o("h1",[t._v("From your network")]),t._l(t.posts,function(e){return[o("v-card",{key:e.post_id,staticStyle:{"margin-top":"2rem"},attrs:{color:"#26c6da",dark:""}},[o("v-card-title",[o("span",{staticClass:"title font-weight-light"},[t._v(t._s(e.Pcreated_date))])]),o("v-card-text",[t._v(t._s(e.Pcontent))]),o("v-card-actions",[o("v-list-tile",[o("v-list-tile-avatar",{attrs:{color:"grey darken-3"}},[o("v-icon",[t._v("account_circle")])],1),o("v-list-tile-content",[o("v-list-tile-title",[t._v(t._s(e.first_name+" "+e.last_name))])],1)],1),o("v-btn",{on:{click:function(o){return t.openDetails(e)}}},[t._v("Details")])],1)],1)]})],2),Object.keys(t.selectedPost).length>0?o("div",{staticClass:"feed__details"},[o("h1",[t._v("Post Details")]),o("h3",[t._v(t._s(t.selectedPost.first_name+" "+t.selectedPost.last_name))]),o("p",[t._v(t._s(t.selectedPost.Pcontent))]),o("div",{staticClass:"font-size: 2rem;"},[o("v-icon",[t._v("thumb_up")]),o("span",[t._v(t._s(t.selectedPost.likes))]),o("v-btn",{attrs:{disabled:t.liked},on:{click:function(e){return t.likePost(t.selectedPost)}}},[t._v("Like")])],1),o("h3",[t._v("Comments")]),t._l(t.comments,function(e){return o("v-list-tile",{key:e.comment_no},[o("v-list-tile-content",{staticStyle:{"margin-top":"1rem"}},[o("v-list-tile-title",[t._v(t._s(e.Cpost_date))]),o("v-list-tile-sub-title",{staticClass:"text--primary"},[t._v(t._s(e.cmt_content))])],1)],1)}),o("v-textarea",{staticStyle:{"margin-top":"2rem"},attrs:{box:"",label:"Comment"},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}}),o("v-btn",{on:{click:function(e){return t.comment()}}},[t._v("Post comment")])],2):t._e()])},wt=[],Ot={data:function(){return{posts:[],comments:[],selectedPost:{},liked:!1,commentContent:""}},methods:{likePost:function(t){var e=this;j.a.post("/api/query",{query:"insert into likes(user_id, post_id) values(".concat(this.$route.params.id,", ").concat(t.post_id,")")}).then(function(t){e.selectedPost.likes++,e.liked=!0})},getPosts:function(){var t=this;j.a.post("/api/query",{query:"select * from post join user on user.user_id = post.user_id where post.user_id in (select followee_uid from follows_user where follower_uid = ".concat(this.$route.params.id,");")}).then(function(e){var o;console.log(e),t.posts=[],(o=t.posts).push.apply(o,Object(rt["a"])(e.data))})},openDetails:function(t){var e=this;j.a.post("/api/query",{query:"select * from user join (\n\tselect post.user_id,post.post_id, Pcontent, Pcreated_date, count(post.post_id) as likes from likes, post where likes.post_id = post.post_id and post.post_id = ".concat(t.post_id,"\n            ) as post on post.user_id = user.user_id;\n            ")}).then(function(o){console.log(o),o.data.length>0?e.selectedPost=o.data[0]:e.selectedPost={},j.a.post("/api/query",{query:"select * from comment where comment.post_id = ".concat(t.post_id)}).then(function(t){var o;e.comments=[],(o=e.comments).push.apply(o,Object(rt["a"])(t.data))})})},comment:function(){var t=this;j.a.post("/api/query",{query:"INSERT INTO COMMENT (post_id, user_id, cmt_content, Cpost_date) VALUES (".concat(this.selectedPost.post_id,",\n        ").concat(this.$route.params.id,',\n         "').concat(this.commentContent,'",\n          "').concat((new Date).toISOString().slice(0,19).replace("T"," "),'")')}).then(function(e){console.log(e),t.comments.push({cmt_content:t.commentContent,Cpost_date:(new Date).toISOString().slice(0,19).replace("T"," ")}),t.commentContent=""})}},created:function(){this.getPosts()}},St=Ot,kt=(o("63ab"),Object(d["a"])(St,Ct,wt,!1,null,"13aa712c",null)),jt=kt.exports;v()(kt,{VBtn:_["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:z["a"],VIcon:f["a"],VListTile:H["a"],VListTileAvatar:tt["a"],VListTileContent:W["a"],VListTileSubTitle:W["b"],VListTileTitle:W["c"],VTextarea:yt["a"]}),n["a"].use($["a"]);var Et=new $["a"]({mode:"history",routes:[{path:"/home/:id",name:"home",component:S,children:[{path:"feed",name:"feed",component:jt},{path:"users",name:"users",component:ot},{path:"organizations",name:"organizations",component:ft},{path:"profile",name:"profile",component:Vt}]},{path:"/about",name:"about",component:function(){return o.e("about").then(o.bind(null,"f820"))}}]}),Lt=o("2f62");n["a"].use(Lt["a"]);var Pt=new Lt["a"].Store({state:{},mutations:{},actions:{}});n["a"].config.productionTip=!1,new n["a"]({router:Et,store:Pt,render:function(t){return t(q)}}).$mount("#app")},"63ab":function(t,e,o){"use strict";var n=o("d029"),s=o.n(n);s.a},"6c48":function(t,e,o){"use strict";var n=o("2394"),s=o.n(n);s.a},9752:function(t,e,o){},d029:function(t,e,o){}});
//# sourceMappingURL=app.3c67ae84.js.map